<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

	<button onclick="fast();"> RÃ¡pido (2 estrelas) </button>
	<button onclick ="slow();"> Lento (3 estrelas) </button>

</body>
<script type="text/javascript">

	function fast() {
		var xmlhttp = new XMLHttpRequest();

		var url = "http://localhost/SIR1718/LOTO_ECGM/myKeyServerJSON.php";
		xmlhttp.onreadystatechange = function() {
			console.log("fast::"+this.readyState);
    		if (this.readyState == 4 && this.status == 200) {
        		var myKey = JSON.parse(this.responseText);
        		myFunction(myKey);
    		}

		};
		xmlhttp.open("GET", url, true);
		xmlhttp.send();
	};

	function slow() {
		var xmlhttp = new XMLHttpRequest();

		var url = "http://localhost/SIR1718/LOTO_ECGM/myKeyServerJSONdelayed.php";
		xmlhttp.onreadystatechange = function() {
			console.log("slow::"+this.readyState);
    		if (this.readyState == 4 && this.status == 200) {
        		var myKey = JSON.parse(this.responseText);
        		myFunction(myKey);
    		}

		};
		xmlhttp.open("GET", url, true);
		xmlhttp.send();
	};


function myFunction(key) {
	console.log(key);
}


</script>
</html>